package org.libertas;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;

public class Conexao {
	private Connection connection;

	public Conexao() {
		try {
			Class.forName("com.mysql.cj.jdbc.Driver");
			connection = DriverManager.getConnection(
					"jdbc:mysql://54.91.193.137:3306/libertas5per?verifyServerCertificate=false&useSSL=false",
					"libertas", "123456");

			criarTabela();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	public void criarTabela() {
		String sql = "CREATE TABLE IF NOT EXISTS jogos ("
				+ "id INT AUTO_INCREMENT PRIMARY KEY, "
				+ "nome VARCHAR(100), "
				+ "genero VARCHAR(50), "
				+ "plataforma VARCHAR(50), "
				+ "ano_lancamento INT)";
		
		try {
			Statement stmt = connection.createStatement();
			stmt.execute(sql);
			System.out.println("Tabela 'jogos' criada (se ainda n√£o existia).");
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public void desconecta() {
		try {
			connection.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public Connection getConnection() {
		return connection;
	}

	public void setConnection(Connection connection) {
		this.connection = connection;
	}
}
